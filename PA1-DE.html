<html>
<!-- CS3230 - Programming Assignment 1 - Part 2 - Jan-2015 -->
<head>
<title>CS3230-PA1-Part 2</title>
</head>


<body>

<font color="blue" >
Programming Assignment 1 - Part 2 (task D,E)
<br>
CS3230 - Design and Analysis of Algorithms
<br>
Spring - 2015
</font>
<hr>


<h1 align=center> Spaceship Momentum </h1>
<h2>A quick glance</h2>
<p>
In this second phase of the project, you have to implement Karatsuba algorithm. You must complete 2 tasks: task D (for 60 points) and task E (for 40 points). The last task (task Y) is for chalenging yourself (no actual points counted). 
</p>
<h2>The story</h2>
<p>
Anka is working at MarsTravel company. She is building a spaceship's module for landing on Mars. For safely landing, the momentum of the spaceship must be rapidly determined every millisecond, with highest precision. Anka knows that, to calculate the spaceship's momentum, she just needs to multiply its velocity to relativistic mass. To avoid any precision loss, these values must be stored in some &quot;radix point&quot; format, with length up to thousands of digits. However, the current spaceship's computer doesn't support that. Therefore, Anka has to re-program the multiplication operation. Help her to implement this in C++ or Java.
</p>

<h2>Your task</h2>
<p>
You are given the spacecraft's velocity V and relativistic mass M. Compute its momentum P. These values are non-negative integers written in <b>decimal</b> numerical system. 
</p>

<h2>Message from the Boss</h2>
<p>
Previously, Anka implemented long multiplication algorithm, which can multiply two numbers of 5 thousands digits in half of a second. She is not satisfied with its performance. She emails her boss that she wants to do much faster, and she knows how to do it. The Boss, who took CS3230 @ NUS, quickly understands what Anka is talking about. He sends her a message: <font color="blue"> "This time you have to implement Karatsuba algorithm." </font> Of course, Anka also took CS3230, she knows Karatsuba algorithm quite well.
</p>

<b>Karatsuba algorithm pseudo code:</b>
<pre>
karatsuba (X, Y){
//base case:
	If length of X and Y is less than CUT_OFF:
		Return X*Y; // quadratic long mult
		
//splitting by halves:
	R = max(length of X, length of Y) / 2;
	HighX, LowX = split X at R;
	HighY, LowY = split Y at R;

//recursive calls: 3 times: 
	Z0 = karatsuba(LowX, LowY);
	Z2 = karatsuba(HighX, HighY);
	Z1 = karatsuba(LowX+HIghX, LowY+HighY);

//adding and subtracting:
	Res = Z2 * B^(2*R) + (Z1-Z2-Z0)*B^R + Z0

//return:
	Return Res;
}
</pre>

<p>
Anka has implemented it before, she still remembers some tricks to accelarate its speed. First, the cut-off threshold must be carefully chosen. <strike>Second, digits can be patched together and multiplication can be done in a big base internally.</strike> With these tricks, Anka will definitely do much better than the Boss expects.
</p>


<h2>Input: </h2>

First line of the input is the number T of test cases. Next 3*T lines of input describe T test cases. Each test case starts with a number B = 10, the radix base, in the first line. Then follow the velocity V and the mass M, each value per line. Note B is always 10.
<br><br>
The numbers T and B are in decimal form, while V and M are in base-B form. You can assume that these numbers are given in correct format (no unnecessary zeros and no unnecessary radix point).
<br>
<h2>Output: </h2>
You must output T lines, each line writes the momentum value P for each test case in order given in the input. P must be written in the correct format and in same radix base B indicated in each test case.
<br>
<br>
<b><i>Sample input:</i></b>
<pre>
4
10
1234
98
10
7
987754
10
9484857578438355666555
23445879438579345305843092
10
0
12393948545757
</pre>
<b><i>Sample output:</i></b>
<pre>
120932
6914278
222380827276161322987671196928949534929902188060
0
</pre>


<h2>Constraints:</h2>
T is at least 1 and at most 20. 
<br>
Memory: 256M
<br>
Running time: <b>2 seconds</b> per T testcases.
<br><br>
<big>
<font color=red>
<i><b>
You are required to implement Karatsuba algorithm from scratch. 
 <br>
You are not allowed to use the built-in BigInteger or similar class. 
</font></b>
<br>
Your program will be manually checked.
</i>
<br><br>
<b>Always check for the most updated requirements announced in IVLE.</b>
</big>
<br><br>

<h2>Task D (60 points)</h2>
Numbers in the input are non-negative <b>integers</b>, given in decimal form, that is <b>B=10</b>. 
<br>
Length of V and M is at least 1 and at most <b>10005</b> digits.
<br>
Total length of all numbers in all T testcases is less than 20010 digits.
<br><br>


<h2>Task E (40 points)</h2>
Numbers in the input are non-negative <b>integers</b>, given in decimal form, that is <b>B=10</b>. 
<br>
Length of V and M is at least 1 and at most <b>20005</b> digits.
<br>
Total length of all numbers in all T testcases is less than 40010 digits.
<br><br>


<h2>Task Y (0 points)</h2>
Numbers in the input are non-negative <b>integers</b>, given in decimal form, that is <b>B=10</b>. 
<br>
Length of V and M is at least 1 and at most <b>500050</b> digits (half a million).
<br>
Total length of all numbers in all T testcases is less than 1000100 digits.
<br>
Memory: 256M
<br>
Running time: <b>2 seconds</b> per T testcases.
<br><br>
Any algorithm is welcomed!
<br><br>
More details:
<br>
Input 1: Length of number is 50K;
<br>
Input 2:  100K;
<br>
Input 3:  120K;
<br>
Input 4:  140K;
<br>
Input 5:  160K;
<br>
Input 6:  180K;
<br>
Input 7:  200K;
<br>
Input 8:  300K;
<br>
Input 9:  400K;
<br>
Input 10:  500K;
<br><br>


(End of problem's description)
</body>

<!-- ninhnnsoc@gmail.com -->
</html>
